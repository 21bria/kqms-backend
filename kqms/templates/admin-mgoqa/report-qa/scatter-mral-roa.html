{% load static %}

{% include 'layout/head.html' %}
<!-- ========== Switcher  ========== -->
{% include 'layout/switcher.html' %}
<!-- ========== END Switcher  ========== -->
<style>
    @media (min-width: 960px) {
        .m-\[3rem\] {
            margin: 13rem;
        }
    }
</style>
<!-- Loader -->
<div id="loader">
    <img src="{% static 'assets/images/media/loader.svg' %}" alt="">
</div>
<!-- Loader -->
<div class="page">

    <!-- Start::Header -->
    {% include 'layout/header.html' %}
    <!-- End::Header -->
    <!-- Start::app-sidebar -->
    {% include 'layout/sidebar.html' %}
    <!-- End::app-sidebar -->


    <div class="content">

        <!-- Start::main-content -->
        <div class="main-content">
            <!-- Page Header -->
            <div class="block justify-between page-header md:flex">
                <div>
                    <h3
                        class="!text-defaulttextcolor dark:!text-defaulttextcolor/70 dark:text-white dark:hover:text-white text-[1.125rem] font-semibold">
                        Quality Assurance</h3>
                </div>
                <ol class="flex items-center whitespace-nowrap min-w-0">
                    <li class="text-[0.813rem] ps-[0.5rem]">
                        <a class="flex items-center text-primary hover:text-primary dark:text-primary truncate"
                            href="javascript:void(0);">
                            Tables
                            <i
                                class="ti ti-chevrons-right flex-shrink-0 text-[#8c9097] dark:text-white/50 px-[0.5rem] overflow-visible rtl:rotate-180"></i>
                        </a>
                    </li>
                    <li class="text-[0.813rem] text-defaulttextcolor font-semibold hover:text-primary dark:text-[#8c9097] dark:text-white/50 "
                        aria-current="page">
                        QAQC
                    </li>
                </ol>
            </div>
            <!-- Page Header Close -->
            <div class="grid grid-cols-12 gap-4 mb-5">
                <div class="xl:col-span-2 col-span-12">
                    <div class="input-group">
                        <div class="input-group-text text-[#8c9097] dark:text-white/50">
                            <i class="ri-calendar-line"></i>
                        </div>
                        <input type="text" class="form-control" id="start_date" name="start_date" value="{{start_date}}"
                            placeholder="Choose date">
                    </div>
                </div>

                <div class="xl:col-span-2 col-span-12">
                    <div class="input-group">
                        <div class="input-group-text text-[#8c9097] dark:text-white/50">
                            <i class="ri-calendar-line"></i>
                        </div>
                        <input type="text" class="form-control" id="end_date" name="end_date" value="{{end_date}}"
                            placeholder="Choose date">
                    </div>
                </div>
                <div class="xl:col-span-2 col-span-12">
                    <button type="button" id="applyFilter"
                        class="ti-btn bg-primary text-white !font-medium">Filter</button>
                </div>
            </div>
            <!-- Start::row-1 -->
            <div class="grid grid-cols-12 gap-4 mt-4">
                <div class="xl:col-span-4 col-span-12">
                    <div class="box custom-box">
                        <!-- <div class="box-header">
                            <div class="box-title">Scatter Ni</div>
                        </div> -->
                        <div class="box-body">
                            <div id="scatter_ni"
                                class="rounded-lg relative flex items-center justify-center h-64  bg-white dark:bg-black overflow-hidden">
                                <div class="ti-spinner m-[3rem] !animate-ping !border-transparent bg-gray-400"
                                    role="status" aria-label="loading">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="xl:col-span-4 col-span-12">
                    <div class="box custom-box">
                        <!-- <div class="box-header">
                            <div class="box-title">Scatter Co</div>
                        </div> -->
                        <div class="box-body">
                            <div id="scatter_co"
                                class="rounded-lg relative flex items-center justify-center h-64  bg-white dark:bg-black overflow-hidden">
                                <div class="ti-spinner m-[3rem] !animate-ping !border-transparent  bg-gray-400"
                                    role="status" aria-label="loading">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="xl:col-span-4 col-span-12">
                    <div class="box custom-box">
                        <!-- <div class="box-header">
                            <div class="box-title">Scatter Fe</div>
                        </div> -->
                        <div class="box-body">
                            <div id="scatter_fe"
                                class="rounded-lg relative flex items-center justify-center h-64  bg-white dark:bg-black overflow-hidden">
                                <div class="ti-spinner m-[3rem] !animate-ping !border-transparent  bg-gray-400"
                                    role="status" aria-label="loading">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="xl:col-span-4 col-span-12">
                    <div class="box custom-box">
                        <!-- <div class="box-header">
                            <div class="box-title">Scatter MgO</div>
                        </div> -->
                        <div class="box-body">
                            <div id="scatter_mgo"
                                class="rounded-lg relative flex items-center justify-center h-64  bg-white dark:bg-black overflow-hidden">
                                <div class="ti-spinner m-[3rem] !animate-ping !border-transparent  bg-gray-400"
                                    role="status" aria-label="loading">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="xl:col-span-4 col-span-12">
                    <div class="box custom-box">
                        <!-- <div class="box-header">
                            <div class="box-title">Scatter SiO2</div>
                        </div> -->
                        <div class="box-body">
                            <div id="scatter_sio2"
                                class="rounded-lg relative flex items-center justify-center h-64  bg-white dark:bg-black overflow-hidden">
                                <div class="ti-spinner m-[3rem] !animate-ping !border-transparent  bg-gray-400"
                                    role="status" aria-label="loading">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End::row-1 -->
        </div>
        <!-- Start::main-content -->
    </div>

    <!-- Footer Start -->
    {% include 'layout/footer.html' %}
    <!-- Footer End -->

</div>

<!-- Back To Top -->
<div class="scrollToTop">
    <span class="arrow"><i class="ri-arrow-up-s-fill text-xl"></i></span>
</div>

<div id="responsive-overlay"></div>

<!-- Call JS -->
{% include 'layout/js.html' %}


<script>
    $(document).ready(function () {
        flatpickr("#start_date", {
            dateFormat: "Y-m-d",
        });

        flatpickr("#end_date", {
            dateFormat: "Y-m-d",
        });
        /*-- Pass Header Token ---*/
        $.ajaxSetup({
            headers: {
                'X-CSRFToken': $('meta[name="csrf-token"]').attr('content')
            }
        });

        // Fungsi baca tema dari <html class="dark"> atau <body class="dark">
        const getTheme = () => {
            return document.documentElement.classList.contains('dark') ? 'dark' : 'light';
        };

        // Fungsi memuat chart sesuai filter
        const updateCharts = () => {
            const start_date = $("#start_date").val();
            const end_date = $("#end_date").val();
            const theme = getTheme();

            const filter = {
                start_date: start_date,
                end_date: end_date,
                theme: theme,
            };
            createScatterNi(filter);
            createScatterCo(filter);
            createScatterFe(filter);
            createScatterMgo(filter);
            createScatterSiO2(filter);
        };

        // Jalankan saat awal
        updateCharts();

        // Jika kamu ingin chart berubah otomatis saat tema diubah (mode terang ↔ gelap)
        const observer = new MutationObserver(() => {
            updateCharts();
        });

        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['class']  // Pantau perubahan class "dark"
        });

        // applyFilter Click
        $("#applyFilter").on("click", function () {
            const start_date = $("#start_date").val();
            const end_date = $("#end_date").val();
            const theme = getTheme();

            if (start_date == '') {
                $('#start_date').focus();
                return false;
            } else if (end_date == '') {
                $('#end_date').focus();
                return false;
            } else {
                var filter = {
                    start_date: start_date,
                    end_date: end_date,
                    theme: theme,
                };
                createScatterNi(filter);
                createScatterCo(filter);
                createScatterFe(filter);
                createScatterMgo(filter);
                createScatterSiO2(filter);

            }
        });
    });

    // for plotly
    function createScatterNi(filter) {
        // var theme = $('body').hasClass('dark-mode') ? 'dark' : 'light';
        $.ajax({
            type: 'GET',
            url: "{% url 'scatter-analyse-mral-roa-ni' %}",
            data: filter,
            dataType: "json",
            success: function (data) {
                if (data.plot_div) {
                    $('#scatter_ni').html(data.plot_div);
                } else {
                    // $('#scatter_ni').html('<p>Error loading plot. Please try again.</p>');
                }
            },
            error: function (xhr, status, error) {
                console.error("AJAX Error: ", status, error);
                // $('#scatter_ni').html('<p>Error loading plot. Please try again.</p>');
            }
        });
    }
    function createScatterCo(filter) {
        // var theme = $('body').hasClass('dark-mode') ? 'dark' : 'light';
        $.ajax({
            type: 'GET',
            url: "{% url 'scatter-analyse-mral-roa-co' %}",
            data: filter,
            dataType: "json",
            success: function (data) {
                if (data.plot_div) {
                    $('#scatter_co').html(data.plot_div);
                } else {
                    // $('#scatter_co').html('<p>Error loading plot. Please try again.</p>');
                }
            },
            error: function (xhr, status, error) {
                console.error("AJAX Error: ", status, error);
                // $('#scatter_co').html('<p>Error loading plot. Please try again.</p>');
            }
        });
    }

    function createScatterFe(filter) {
        // var theme = $('body').hasClass('dark-mode') ? 'dark' : 'light';
        $.ajax({
            type: 'GET',
            url: "{% url 'scatter-analyse-mral-roa-fe' %}",
            data: filter,
            dataType: "json",
            success: function (data) {
                if (data.plot_div) {
                    $('#scatter_fe').html(data.plot_div);
                } else {
                    // $('#scatter_fe').html('<p>Error loading plot. Please try again.</p>');
                }
            },
            error: function (xhr, status, error) {
                console.error("AJAX Error: ", status, error);
                // $('#scatter_fe').html('<p>Error loading plot. Please try again.</p>');
            }
        });
    }

    function createScatterMgo(filter) {
        // var theme = $('body').hasClass('dark-mode') ? 'dark' : 'light';
        $.ajax({
            type: 'GET',
            url: "{% url 'scatter-analyse-mral-roa-mgo' %}",
            data: filter,
            dataType: "json",
            success: function (data) {
                if (data.plot_div) {
                    $('#scatter_mgo').html(data.plot_div);
                } else {
                    // $('#scatter_mgo').html('<p>Error loading plot. Please try again.</p>');
                }
            },
            error: function (xhr, status, error) {
                console.error("AJAX Error: ", status, error);
                // $('#scatter_mgo').html('<p>Error loading plot. Please try again.</p>');
            }
        });
    }

    function createScatterSiO2(filter) {
        // var theme = $('body').hasClass('dark-mode') ? 'dark' : 'light';
        $.ajax({
            type: 'GET',
            url: "{% url 'scatter-analyse-mral-roa-sio2' %}",
            data: filter,
            dataType: "json",
            success: function (data) {
                if (data.plot_div) {
                    $('#scatter_sio2').html(data.plot_div);
                } else {
                    // $('#scatter_sio2').html('<p>Error loading plot. Please try again.</p>');
                }
            },
            error: function (xhr, status, error) {
                console.error("AJAX Error: ", status, error);
                // $('#scatter_sio2').html('<p>Error loading plot. Please try again.</p>');
            }
        });
    }

    // For Chart
    // function createScatterNi(filter) {
    //     $.ajax({
    //         type: 'GET',
    //         url: "{% url 'scatter-analyse-mral-roa-ni' %}",
    //         data: filter,
    //         success: function (response) {
    //             // Parsing data dari response
    //             const scatterData = response.scatter_data.map(function (item) {
    //                 return {
    //                     x: item.ni_mral,
    //                     y: item.ni_roa
    //                 };
    //             });
    //             const center_ni = response.center_ni;
    //             const upper_ni = response.upper_ni;
    //             const lower_ni = response.lower_ni;
    //             const r_squared = response.r_squared;

    //             // Memperbarui chart dengan data baru
    //             scatterNi.updateOptions({
    //                 series: [
    //                     {
    //                         name: 'Ni',
    //                         type: 'scatter',
    //                         data: scatterData,
    //                     },
    //                     {
    //                         name: 'Upper Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_ni, y: upper_ni }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Centre Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_ni, y: center_ni }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Lower Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_ni, y: lower_ni }
    //                         ]
    //                     },
    //                 ],
    //                 xaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 2.5,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'MRAL'
    //                     }
    //                 },
    //                 yaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 2.5,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'ROA'
    //                     }
    //                 },
    //                 title: {
    //                     text: 'Ni mral vs roa',
    //                     offsetY: 0,
    //                     align: 'center',
    //                     style: {
    //                         color: '#444'
    //                     }
    //                 },
    //                 subtitle: {
    //                     text: `R-squared: ${r_squared}`,
    //                     offsetY: 15,
    //                     offsetX: 19,
    //                 },
    //             });
    //         },
    //         error: function () {
    //             // Penanganan kesalahan jika diperlukan
    //             console.log('Gagal mengambil data dari server.');
    //         },
    //     });
    // }

    // function createScatterCo(filter) {
    //     $.ajax({
    //         type: 'GET',
    //         url: "{% url 'scatter-analyse-mral-roa-co' %}",
    //         data: filter,
    //         success: function (response) {
    //             // Parsing data dari response
    //             const scatterData = response.scatter_data.map(function (item) {
    //                 return {
    //                     x: item.co_mral,
    //                     y: item.co_roa
    //                 };
    //             });
    //             const center_co = response.center_co;
    //             const upper_co = response.upper_co;
    //             const lower_co = response.lower_co;
    //             const r_squared = response.r_squared;

    //             // Memperbarui chart dengan data baru
    //             scatterCo.updateOptions({
    //                 series: [
    //                     {
    //                         name: 'Co',
    //                         type: 'scatter',
    //                         data: scatterData,
    //                     },
    //                     {
    //                         name: 'Upper Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_co, y: upper_co }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Centre Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_co, y: center_co }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Lower Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_co, y: lower_co }
    //                         ]
    //                     },
    //                 ],
    //                 xaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 0.25,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'MRAL'
    //                     }
    //                 },
    //                 yaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 0.25,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'ROA'
    //                     }
    //                 },
    //                 title: {
    //                     text: 'Co mral vs roa',
    //                     // floating: true,
    //                     offsetY: 0,
    //                     align: 'center',
    //                     style: {
    //                         color: '#444'
    //                     }
    //                 },
    //                 subtitle: {
    //                     text: `R-squared: ${r_squared}`,
    //                     offsetY: 15,
    //                     offsetX: 19,
    //                 },
    //             });
    //         },
    //         error: function () {
    //             // Penanganan kesalahan jika diperlukan
    //             console.log('Gagal mengambil data dari server.');
    //         },
    //     });
    // }

    // function createScatterFe(filter) {
    //     $.ajax({
    //         type: 'GET',
    //         url: "{% url 'scatter-analyse-mral-roa-fe' %}",
    //         data: filter,
    //         success: function (response) {
    //             // Parsing data dari response
    //             const scatterData = response.scatter_data.map(function (item) {
    //                 return {
    //                     x: item.fe_mral,
    //                     y: item.fe_roa
    //                 };
    //             });
    //             const center_fe = response.center_fe;
    //             const upper_fe = response.upper_fe;
    //             const lower_fe = response.lower_fe;
    //             const r_squared = response.r_squared;

    //             // Memperbarui chart dengan data baru
    //             scatterFe.updateOptions({
    //                 series: [
    //                     {
    //                         name: 'Fe',
    //                         type: 'scatter',
    //                         data: scatterData,
    //                     },
    //                     {
    //                         name: 'Upper Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_fe, y: upper_fe }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Centre Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_fe, y: center_fe }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Lower Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_fe, y: lower_fe }
    //                         ]
    //                     },
    //                 ],
    //                 xaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 55,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'MRAL'
    //                     }
    //                 },
    //                 yaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 55,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'ROA'
    //                     }
    //                 },
    //                 title: {
    //                     text: 'Fe mral vs roa',
    //                     // floating: true,
    //                     offsetY: 0,
    //                     align: 'center',
    //                     style: {
    //                         color: '#444'
    //                     }
    //                 },
    //                 subtitle: {
    //                     text: `R-squared: ${r_squared}`,
    //                     offsetY: 15,
    //                     offsetX: 19,
    //                 },
    //             });
    //         },
    //         error: function () {
    //             // Penanganan kesalahan jika diperlukan
    //             console.log('Gagal mengambil data dari server.');
    //         },
    //     });
    // }

    // function createScatterMgo(filter) {
    //     $.ajax({
    //         type: 'GET',
    //         url: "{% url 'scatter-analyse-mral-roa-mgo' %}",
    //         data: filter,
    //         success: function (response) {
    //             // Parsing data dari response
    //             const scatterData = response.scatter_data.map(function (item) {
    //                 return {
    //                     x: item.mgo_mral,
    //                     y: item.mgo_roa
    //                 };
    //             });
    //             const center_mgo = response.center_mgo;
    //             const upper_mgo = response.upper_mgo;
    //             const lower_mgo = response.lower_mgo;
    //             const r_squared = response.r_squared;

    //             // Memperbarui chart dengan data baru
    //             scatterMgo.updateOptions({
    //                 series: [
    //                     {
    //                         name: 'MgO',
    //                         type: 'scatter',
    //                         data: scatterData,
    //                     },
    //                     {
    //                         name: 'Upper Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_mgo, y: upper_mgo }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Centre Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_mgo, y: center_mgo }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Lower Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_mgo, y: lower_mgo }
    //                         ]
    //                     },
    //                 ],
    //                 xaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 29,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'MRAL'
    //                     }
    //                 },
    //                 yaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 29,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'ROA'
    //                     }
    //                 },
    //                 title: {
    //                     text: 'MgO mral vs roa',
    //                     // floating: true,
    //                     offsetY: 0,
    //                     align: 'center',
    //                     style: {
    //                         color: '#444'
    //                     }
    //                 },
    //                 subtitle: {
    //                     text: `R-squared: ${r_squared}`,
    //                     offsetY: 15,
    //                     offsetX: 19,
    //                 },
    //             });
    //         },
    //         error: function () {
    //             // Penanganan kesalahan jika diperlukan
    //             console.log('Gagal mengambil data dari server.');
    //         },
    //     });
    // }

    // function createScatterSiO2(filter) {
    //     $.ajax({
    //         type: 'GET',
    //         url: "{% url 'scatter-analyse-mral-roa-sio2' %}",
    //         data: filter,
    //         success: function (response) {
    //             // Parsing data dari response
    //             const scatterData = response.scatter_data.map(function (item) {
    //                 return {
    //                     x: item.sio2_mral,
    //                     y: item.sio2_roa
    //                 };
    //             });
    //             const center_sio2 = response.center_sio2;
    //             const upper_sio2 = response.upper_sio2;
    //             const lower_sio2 = response.lower_sio2;
    //             const r_squared = response.r_squared;

    //             // Memperbarui chart dengan data baru
    //             scatterSiO2.updateOptions({
    //                 series: [
    //                     {
    //                         name: 'SiO2',
    //                         type: 'scatter',
    //                         data: scatterData,
    //                     },
    //                     {
    //                         name: 'Upper Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_sio2, y: upper_sio2 }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Centre Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_sio2, y: center_sio2 }
    //                         ]
    //                     },
    //                     {
    //                         name: 'Lower Line',
    //                         type: 'line',
    //                         data: [
    //                             { x: 0, y: 0 },
    //                             { x: center_sio2, y: lower_sio2 }
    //                         ]
    //                     },
    //                 ],
    //                 xaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 55,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'MRAL'
    //                     }
    //                 },
    //                 yaxis: {
    //                     type: 'numeric',
    //                     min: 0,
    //                     max: 55,
    //                     tickAmount: 5,
    //                     labels: {
    //                         formatter: function (val) {
    //                             return parseFloat(val).toFixed(2)
    //                         }
    //                     },
    //                     title: {
    //                         text: 'ROA'
    //                     }
    //                 },
    //                 title: {
    //                     text: 'SiO2 mral vs roa',
    //                     // floating: true,
    //                     offsetY: 0,
    //                     align: 'center',
    //                     style: {
    //                         color: '#444'
    //                     }
    //                 },
    //                 subtitle: {
    //                     text: `R-squared: ${r_squared}`,
    //                     offsetY: 15,
    //                     offsetX: 19,
    //                 },
    //             });
    //         },
    //         error: function () {
    //             // Penanganan kesalahan jika diperlukan
    //             console.log('Gagal mengambil data dari server.');
    //         },
    //     });
    // }

    // var options = {
    //     chart: {
    //         height: 350,
    //         type: 'line',
    //         toolbar: {
    //             show: true
    //         },
    //         zoom: {
    //             enabled: false
    //         },
    //         animations: {
    //             enabled: true,
    //             easing: 'linear',
    //             dynamicAnimation: {
    //                 speed: 1000
    //             }
    //         },
    //     },
    //     series: [],
    //     noData: {
    //         text: 'No Data...'
    //     },
    //     stroke: {
    //         show: true,
    //         // curve: 'smooth',
    //         lineCap: 'butt',
    //         colors: undefined,
    //         width: 2,
    //         dashArray: 5,
    //     },
    //     fill: {
    //         type: 'solid',
    //     },
    //     markers: {
    //         size: [5, 0]
    //     },
    //     tooltip: {
    //         shared: false,
    //         intersect: true,
    //     },
    //     legend: {
    //         show: true
    //     },
    //     xaxis: {
    //         type: 'numeric',
    //         min: 0,
    //         max: 2,
    //         tickAmount: 4,
    //         labels: {
    //             formatter: function (val) {
    //                 return parseFloat(val).toFixed(2)
    //             }
    //         },
    //         title: {
    //             text: "MRAL"
    //         }
    //     },

    //     yaxis: {
    //         type: 'numeric',
    //         min: 0,
    //         max: 2,
    //         tickAmount: 4,
    //         labels: {
    //             formatter: function (val) {
    //                 return parseFloat(val).toFixed(2)
    //             }
    //         },
    //         title: {
    //             text: "ROA"
    //         }
    //     },
    //     grid: {
    //         show: false,
    //         // position: 'front'
    //         position: 'back',
    //         xaxis: {
    //             lines: {
    //                 show: true
    //             }
    //         },
    //         yaxis: {
    //             lines: {
    //                 show: true
    //             }
    //         },
    //     },
    //     colors: ['#9e94dd', '#f7cc53a3', '#7bd0acd6', '#bcc3c9'],
    // };

    // var scatterNi = new ApexCharts(document.querySelector('#scatter_ni'), options);
    // scatterNi.render();
    // var scatterCo = new ApexCharts(document.querySelector('#scatter_co'), options);
    // scatterCo.render();
    // var scatterFe = new ApexCharts(document.querySelector('#scatter_fe'), options);
    // scatterFe.render();
    // var scatterMgo = new ApexCharts(document.querySelector('#scatter_mgo'), options);
    // scatterMgo.render();
    // var scatterSiO2 = new ApexCharts(document.querySelector('#scatter_sio2'), options);
    // scatterSiO2.render();


</script>

</body>

</html>